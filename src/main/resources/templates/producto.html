<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<link th:href="@{../style.css}" rel="stylesheet" type="text/css" href="../static/style.css">
	<link th:href="@{../bootstrap.css}" rel="stylesheet" type="text/css" href="../static/bootstrap.css">
	<meta charset=UTF-8>
<title>Login</title>
</head>
<body>

<body>
	<div class="container">
		<h1>Formulario de Carga de Producto</h1>


		<form id="formProducto" th:object="${unProducto}"
			th:action="@{/Mproducto}:@{/guardarProducto}"
			method="post">
			<div class="form-group row">
				<label for="codigo" class="col-sm-2 col-form-label">Codigo</label>
				<div class="col-sm-10">
					<input type="text" id="codigo" th:field="*{codigo}"
						class="form-control">
				</div>
			</div>


			<div class="form-group row">
				<label for="nombre" class="col-sm-2 col-form-label">Nombre</label>
				<div class="col-sm-10">
					<input type="text" id="nombre" th:field="*{nombre}"
						class="form-control">
				</div>
			</div>

			<div class="form-group row">
				<label for="precio" class="col-sm-2 col-form-label">Precio</label>
				<div class="col-sm-10">
					<input type="number" id="precio" th:field="*{precio}"
						class="form-control">
				</div>
			</div>


			<div class="form-group row">
				<label for="marca" class="col-sm-2 col-form-label">Marca</label>
				<div class="col-sm-10">
					<input type="text" id="marca" th:field="*{marca}"
						class="form-control">
				</div>
			</div>

			<div class="form-group row">
				<label for="stock" class="col-sm-2 col-form-label">Stock</label>
				<div class="col-sm-10">
					<input type="number" id="stock" th:field="*{stock}"
						class="form-control">

				</div>
			</div>




			<div class="d-grid gap-2">

				<!-- <button  class="btn btn-primary" type="submit"  value="Agregar">Agregar</button> -->
				<input type="submit" class="btn btn-success btn-block"
					th:value="${editMode}?'Modificar Producto':'Crear Producto'">
			</div>


		</form>

		<!-- ---------------------------------------------------------------- -->
		<h3>Lista de Productos</h3>
		<br>
		<div>
			<table class="table table-success table-striped">
				<thead class="thead-dark">

					<tr>
						<th class="columna">Cod Producto</th>
						<th>Nombre</th>
						<th>Precio</th>
						<th>Marca</th>
						<th>Stock</th>
						<th>Edicion</th>


					</tr>
				</thead>
				<tr th:if="${productos.empty}">
					<td colspan="2">No hay productos en el listado</td>
				</tr>

				<tr th:each="p : ${productos}">
					<td class="columna" th:text="${p.codProducto}"></td>
					<td th:text="${p.nombre}"></td>
					<td th:text="${p.precio}"></td>
					<td th:text="${p.marca}"></td>
					<td th:text="${p.stock}"></td>
					<td><a href="#"
						th:href="@{'/producto/editar/'+${p.codProducto}}"><i
							class="fa fa-edit"></i></a> <a
						th:onclick="'javascript:confirmarEliminar(\''+${p.codProducto}+'\');'"><i
							class="fa fa-trash-alt"></i></a>
				</tr>
			</table>

		</div>

	</div>
	<!--Modal Eliminar-->

	<div class="modal fade" id="modalEliminar" tabindex="-1" role="dialog"
		aria-labelledby="eliminarModal" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="eliminarModalTitulo">Confirmar
						Eliminar</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<h6>Are you sure you want to delete this user?</h6>
				</div>
				<input type="hidden" id="identificadorProducto"
					name="productoId" />
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary"
						th:onclick="eliminarProducto()">Delete</button>
				</div>
			</div>
		</div>
	</div>
	
</body>
</html>